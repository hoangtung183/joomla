<!DOCTYPE html>
<html dir="ltr" class="client-nojs" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>Routing implementation details - Joomla! Documentation</title>
<meta charset="UTF-8">
<meta name="generator" content="MediaWiki 1.19.3">
<link rel="shortcut icon" href="http://docs.joomla.org/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="http://docs.joomla.org/opensearch_desc.php" title="Joomla! Documentation (en)">
<link rel="EditURI" type="application/rsd+xml" href="http://docs.joomla.org/api.php?action=rsd">
<link rel="copyright" href="http://docs.joomla.org/JEDL">
<link rel="alternate" type="application/atom+xml" title="Joomla! Documentation Atom feed" href="http://docs.joomla.org/index.php?title=Special:RecentChanges&amp;feed=atom">
<link rel="stylesheet" href="Routing%20implementation%20details%20-%20Joomla%21%20Documentation_files/load_002.css">
<link rel="stylesheet" href="Routing%20implementation%20details%20-%20Joomla%21%20Documentation_files/ext.htm"><meta name="ResourceLoaderDynamicStyles" content="">
<link rel="stylesheet" href="Routing%20implementation%20details%20-%20Joomla%21%20Documentation_files/load.css">
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}a.new,#quickbar a.new{color:#ba0000}

/* cache key: docsj_mediawiki:resourceloader:filter:minify-css:7:c88e2bcd56513749bec09a7e29cb3ffa */
</style>

<script src="Routing%20implementation%20details%20-%20Joomla%21%20Documentation_files/ga.js" async="" type="text/javascript"></script><script src="Routing%20implementation%20details%20-%20Joomla%21%20Documentation_files/ga.js" async="" type="text/javascript"></script><script src="Routing%20implementation%20details%20-%20Joomla%21%20Documentation_files/load.php"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Routing_implementation_details","wgTitle":"Routing implementation details","wgCurRevisionId":77733,"wgArticleId":26511,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Joomla! Wiki need pages","Needs completion"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgRelevantPageName":"Routing_implementation_details","wgRestrictionEdit":[],"wgRestrictionMove":[],"wgVectorEnabledModules":{"collapsiblenav":true,"collapsibletabs":true,"editwarning":false,"expandablesearch":false,"footercleanup":false,"sectioneditlinks":false,"simplesearch":true,"experiments":true},"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"templateEditor":false,"templates":false,"preview":true,"previewDialog":false,"publish":false,"toc":false},"htTabIndexes":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,
"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"vector-simplesearch":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs100":false,"searchNs101":false,"searchNs104":true,"searchNs105":false,"searchNs106":false,"searchNs107":false,"searchNs108":false,"searchNs109":false,"searchNs111":false,"searchNs112":false,"searchNs114":false,"searchNs115":false,"searchNs116":true,"searchNs117":false,"searchNs118":true,"searchNs119":false,"searchNs120":false,"searchNs121":false,"searchNs122":false,"searchNs123":false,
"searchNs124":true,"searchNs125":false,"searchNs126":true,"searchNs127":false,"searchNs128":false,"searchNs129":false,"searchNs130":true,"searchNs131":false,"searchNs132":false,"searchNs133":false,"searchNs134":true,"searchNs135":false,"searchNs136":false,"searchNs137":false,"searchNs138":true,"searchNs139":false,"searchNs140":false,"searchNs141":false,"searchNs142":true,"searchNs143":false,"searchNs144":true,"searchNs145":false,"searchNs146":true,"searchNs147":false,"searchNs500":false,"searchNs501":false,"searchNs502":true,"searchNs503":false,"searchNs504":false,"searchNs505":false,"gadget-Code_insert":1});;},{},{});mw.loader.implement("user.tokens",function($){mw.user.tokens.set({"editToken":"+\\","watchToken":false});;},{},{});

/* cache key: docsj_mediawiki:resourceloader:filter:minify-js:7:4aebe1ac146459dbc992579c2e41e781 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Routing_implementation_details skin-vector action-view">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<!-- content -->
		<div id="content" class="mw-body">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- firstHeading -->
			<h1 id="firstHeading" class="firstHeading">
				<span dir="auto">Routing implementation details</span>
			</h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent">
								<!-- tagline -->
				<div id="siteSub">From Joomla! Documentation</div>
				<!-- /tagline -->
								<!-- subtitle -->
				<div id="contentSub"></div>
				<!-- /subtitle -->
																<!-- jumpto -->
				<div id="jump-to-nav" class="mw-jump">
					Jump to: <a href="#mw-head">navigation</a>,
					<a href="#p-search">search</a>
				</div>
				<!-- /jumpto -->
								<!-- bodycontent -->
				<div id="mw-content-text" dir="ltr" class="mw-content-ltr" lang="en"><div style="margin:0em 0em 1em 0em; width:100% vertical-align:top; text-align: center; border:1px solid #A0522D; background-color:#FFF8DC;">
<div style="border-bottom:1px solid #A0522D; background-color:#F5DEB3; padding:0.2em 0.5em 0.2em 0.5em; font-size:130%; font-weight:bold;">Note</div>
<div style="text-align: center; padding:1em 5em 1em 1em;"> 
<p>Please note that the content on this page is currently incomplete.  Please treat it as a work in progress.
</p>
<dl><dd><small><span class="plainlinks">This article was <a rel="nofollow" class="external text" href="http://docs.joomla.org/index.php?title=Routing_implementation_details&amp;diff=cur">last edited</a> by <a href="http://docs.joomla.org/index.php?title=User:Mvangeest&amp;action=edit&amp;redlink=1" class="new" title="User:Mvangeest (page does not exist)">Mvangeest</a> <span class="plainlinks">(<a href="http://docs.joomla.org/index.php?title=User_talk:Mvangeest&amp;action=edit&amp;redlink=1" class="new" title="User talk:Mvangeest (page does not exist)">talk</a>| <a href="http://docs.joomla.org/Special:Contributions/Mvangeest" title="Special:Contributions/Mvangeest">contribs</a>)</span> 5 months ago. <font size="1"><i>(<a rel="nofollow" class="external text" href="http://docs.joomla.org/index.php?title=Routing_implementation_details&amp;action=purge">Purge</a>)</i></font></span></small>
</dd></dl>
<div style="text-align:left;"></div>
</div>
</div>
<h2> <span class="mw-headline" id="Application_Route_Parsing"> Application Route Parsing </span></h2>
<p>The <a href="http://docs.joomla.org/Application_execution_order" title="Application execution order">Application execution order</a>
 outlines that the route (URL) is parsed immediately after 
initialisation is complete.  Since fancy URL's are not treated (yet) in 
the Administrator, we will follow the route parsing process in detail 
when <code>JSite::route</code> in the <tt>index.php</tt> file.
</p>
<ul><li> Call to <code>JApplication::route</code>
<ul><li> Clone the URI
</li><li> Call to <code>JApplication::getRouter</code>
<ul><li> Call to <code>JRouter::getInstance</code> passing the type ("site")
</li></ul>
</li><li> Call to <code>JRouterSite::parse</code> passing the URI
<ul><li> Strip the suffix if applicable (added to $vars['format'])
</li><li> Re-set the route (URI)
</li><li> Call to <code>JRouter::parse</code> passing the URI
<ul><li> Call to <code>JRouterSite::_processParseRules</code> passing the URI (this will call custom route rules)
<ul><li> Call to <code>JRouter::_processParseRules</code> passing the URI
<ul><li> Call any custom routing rules (probably added via a system plugin using the <code>onAfterInitialise</code> event trigger) passing the URI
</li><li> Returns an array of vars
</li></ul>
</li><li> If SEF mode, replace <code>start</code> variable with limitstart
</li></ul>
</li><li> If raw mode, call to <code>JRouterSite::_parseRawRoute</code> passing the URI
</li><li> If SEF mode, call to <code>JRouterSite::_parseSefRoute</code> passing the URI
<ul><li> If the route (the URI path) is empty, load it from the default menu item; set the active menu item as the default
</li><li> If first part is <code>/component/com_content</code>, set the <code>option</code> as the second segement.  Null the <code>Itemid</code>.
</li><li> Else, loop through menu alias values and take off segments that match as the menu tree is traversed.  Set <code>option</code> and <code>Itemid</code> based on the last menu item found.
</li><li> If the <code>Itemid</code> is set in the URL, set the active menu item based on this value.
</li><li> Push the vars collected so far (eg, <code>option</code>, <code>Itemid</code>, etc) into the router object (<code>$this</code>).
</li><li> If the route and <code>option</code> is set, load the component router;
</li><li> Else, get the active menu item and get the route vars from it
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
<p><br>
</p>
<h2> <span class="mw-headline" id="Application_Route_Building"> Application Route Building </span></h2>
<p>TODO
</p>
<h2> <span class="mw-headline" id="Custom_Router_Rules"> Custom Router Rules </span></h2>
<p>TODO
</p>
<!-- Tidy found serious XHTML errors -->

<!-- 
NewPP limit report
Preprocessor node count: 307/1000000
Post-expand include size: 2959/2097152 bytes
Template argument size: 344/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key docsj_mediawiki:pcache:idhash:26511-0!*!0!!en!*!* and timestamp 20130513070056 -->
</div>				<!-- /bodycontent -->
								<!-- printfooter -->
				<div class="printfooter">
				Retrieved from "<a href="http://docs.joomla.org/index.php?title=Routing_implementation_details&amp;oldid=77733">http://docs.joomla.org/index.php?title=Routing_implementation_details&amp;oldid=77733</a>"				</div>
				<!-- /printfooter -->
												<!-- catlinks -->
				<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="http://docs.joomla.org/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="http://docs.joomla.org/Category:Joomla%21_Wiki_need_pages" title="Category:Joomla! Wiki need pages">Joomla! Wiki need pages</a></li><li><a href="http://docs.joomla.org/Category:Needs_completion" title="Category:Needs completion">Needs completion</a></li></ul></div></div>				<!-- /catlinks -->
												<div class="visualClear"></div>
				<!-- debughtml -->
								<!-- /debughtml -->
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="mw-head" class="noprint">
			
<!-- 0 -->
<div id="p-personal" class="">
	<h5>Personal tools</h5>
	<ul>
		<li id="pt-login"><a href="http://docs.joomla.org/index.php?title=Special:UserLogin&amp;returnto=Routing+implementation+details" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in / create account</a></li>
	</ul>
</div>

<!-- /0 -->
			<div id="left-navigation">
				
<!-- 0 -->
<div id="p-namespaces" class="vectorTabs">
	<h5>Namespaces</h5>
	<ul>
					<li id="ca-nstab-main" class="selected"><span><a href="http://docs.joomla.org/Routing_implementation_details" title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li id="ca-talk" class="new"><span><a href="http://docs.joomla.org/index.php?title=Talk:Routing_implementation_details&amp;action=edit&amp;redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-variants" class="vectorMenu emptyPortlet">
	<h4>
		</h4>
	<h5><span>Variants</span><a href="#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
			</div>
			<div id="right-navigation">
				
<!-- 0 -->
<div id="p-views" class="vectorTabs">
	<h5>Views</h5>
	<ul>
					<li id="ca-view" class="selected"><span><a href="http://docs.joomla.org/Routing_implementation_details">Read</a></span></li>
					<li id="ca-viewsource"><span><a href="http://docs.joomla.org/index.php?title=Routing_implementation_details&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="http://docs.joomla.org/index.php?title=Routing_implementation_details&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-cactions" class="vectorMenu emptyPortlet">
	<h5><span>Actions</span><a href="#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->

<!-- 2 -->
<div id="p-search">
	<h5><label for="searchInput">Search</label></h5>
	<form action="/index.php" id="searchform">
				<div>
			<input name="search" title="Search Joomla! Documentation [f]" accesskey="f" id="searchInput" type="search">			<input name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" type="submit">			<input name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" type="submit">					<input name="title" value="Special:Search" type="hidden">
		</div>
	</form>
</div>

<!-- /2 -->
			</div>
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="mw-panel" class="noprint">
				<!-- logo -->
					<div id="p-logo"><a style="background-image: url(/skins/common/images/workgroups_documentation.jpg);" href="http://docs.joomla.org/Main_Page" title="Visit the main page"></a></div>
				<!-- /logo -->
				
<!-- navigation -->
<div class="portal" id="p-navigation">
	<h5>Navigation</h5>
	<div class="body">
		<ul>
			<li id="n-mainpage"><a href="http://docs.joomla.org/Main_Page" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
			<li id="n-recentchanges"><a href="http://docs.joomla.org/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-currentevents"><a href="http://docs.joomla.org/Events" title="Find background information on current events">Current events</a></li>
			<li id="n-randompage"><a href="http://docs.joomla.org/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-Browse-categories"><a href="http://docs.joomla.org/Category:Top_Level">Browse categories</a></li>
			<li id="n-help"><a href="http://docs.joomla.org/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>

<!-- /navigation -->

<!-- SEARCH -->

<!-- /SEARCH -->

<!-- LANGUAGES -->

<!-- /LANGUAGES -->

<!-- Joomla! Sites -->
<div class="portal" id="p-Joomla.21_Sites">
	<h5>Joomla! Sites</h5>
	<div class="body">
		<ul>
			<li id="n-Main"><a href="http://www.joomla.org/" rel="nofollow">Main</a></li>
			<li id="n-Community"><a href="http://community.joomla.org/" rel="nofollow">Community</a></li>
			<li id="n-Forum"><a href="http://forum.joomla.org/" rel="nofollow">Forum</a></li>
			<li id="n-Extensions"><a href="http://extensions.joomla.org/" rel="nofollow">Extensions</a></li>
			<li id="n-Shop"><a href="http://shop.joomla.org/" rel="nofollow">Shop</a></li>
			<li id="n-Developers"><a href="http://developer.joomla.org/" rel="nofollow">Developers</a></li>
			<li id="n-API"><a href="http://api.joomla.org/" rel="nofollow">API</a></li>
		</ul>
	</div>
</div>

<!-- /Joomla! Sites -->

<!-- TOOLBOX -->
<div class="portal" id="p-tb">
	<h5>Toolbox</h5>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="http://docs.joomla.org/Special:WhatLinksHere/Routing_implementation_details" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="http://docs.joomla.org/Special:RecentChangesLinked/Routing_implementation_details" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="http://docs.joomla.org/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li><a href="http://docs.joomla.org/index.php?title=Routing_implementation_details&amp;printable=yes" rel="alternate">Printable version</a></li>
			<li id="t-permalink"><a href="http://docs.joomla.org/index.php?title=Routing_implementation_details&amp;oldid=77733" title="Permanent link to this revision of the page">Permanent link</a></li>
		</ul>
	</div>
</div>

<!-- /TOOLBOX -->
			</div>
		<!-- /panel -->
		<!-- footer -->
		<div id="footer">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 24 November 2012, at 19:53.</li>
											<li id="footer-info-copyright">Content is available under <a href="http://docs.joomla.org/JEDL" title="JEDL">Joomla! EDL</a>.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="http://docs.joomla.org/JDOC:Privacy_policy" title="JDOC:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="http://docs.joomla.org/JDOC:About" title="JDOC:About">About Joomla! Documentation</a></li>
											<li id="footer-places-disclaimer"><a href="http://docs.joomla.org/JDOC:General_disclaimer" title="JDOC:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-copyrightico">
						<a href="http://docs.joomla.org/JEDL"><img src="Routing%20implementation%20details%20-%20Joomla%21%20Documentation_files/JEDL_icon.png" alt="Joomla! EDL" height="31" width="88"></a>
					</li>
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="Routing%20implementation%20details%20-%20Joomla%21%20Documentation_files/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" height="31" width="88"></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<!-- /footer -->
		<script src="Routing%20implementation%20details%20-%20Joomla%21%20Documentation_files/load_002.php"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.user","mediawiki.page.ready","ext.vector.collapsibleNav","ext.vector.collapsibleTabs","ext.vector.simpleSearch","ext.headertabs"], null, true);
}</script>
<script src="Routing%20implementation%20details%20-%20Joomla%21%20Documentation_files/load_003.php"></script>
<script type="text/javascript">
 var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-544070-3']);
  _gaq.push(['_setDomainName', 'joomla.org']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
<script type="text/javascript">
var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-544070-19']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script><!-- Served in 0.268 secs. -->
	


</body><!-- Cached 20130513070056 --></html>